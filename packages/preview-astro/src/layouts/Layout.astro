---
interface Props {
  title: string;
  noindex?: boolean;
}

const { title, noindex } = Astro.props;
import { IconsManifest } from "react-icons";
import BrandIcon from "./icon.astro";
import { SearchInput } from "../components/searchinput";

const sortedManifest = IconsManifest.sort((a, b) =>
  a.name.localeCompare(b.name),
);
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{title}</title>
    <link rel="shortcut icon" href="/react-icons/favicon.png" />
    <meta name="theme-color" content="#e91e63" />
    <meta name="title" content="React Icons" />
    <meta
      name="description"
      content="Include popular icons in your React projects easly with react-icons."
    />
    <meta name="keywords" content="React, Icons, Tree Shaking, SVG" />
    <link rel="manifest" href="/react-icons/manifest.json" />
    {noindex && <meta name="robots" content="noindex,nofollow" />}
  </head>
  <body>
    <div class="sidebar pt3">
      <!-- <Heading isOpen={isOpen} setIsOpen={setIsOpen} /> -->
      <div class="brand">
        <a href="/">
          <BrandIcon />
          <span>react-icons</span>
        </a>
        <div class="brand--navmenu">
          <!-- <button class={`menu ${isOpen && "active"}`} onClick={toggleMenu}> -->
          <button class="menu">
            <div>Menu</div>
          </button>
        </div>
      </div>

      <div class="search p2">
        <SearchInput client:load />
        <!-- <input
          type="text"
          aria-label="search"
          class="px2 py1"
          placeholder="ðŸ” Search Icons"
          autocomplete="off"
          autocorrect="off"
          autocapitalize="off"
          spellcheck="false"
        /> -->
      </div>

      <!-- if sidebar open apply 'active' class -->
      <ul class="sidebar--links">
        <li>
          <!-- <ActiveLink href="/"> -->
          <a class="rounded px2 py1" href="/">Home</a>
          <!-- </ActiveLink> -->
        </li>
        {
          sortedManifest.map((icon) => (
            <li>
              <a href={`/icons/${icon.id}`} class="rounded px2 py1">
                {icon.name}
              </a>
            </li>
          ))
        }
      </ul>
    </div>
    <main class="container">
      <slot />
    </main>
  </body>
</html>
<style is:global>
  @import "../styles/global.scss";
</style>
<script is:inline>
  function onButtonClick() {
    const sidebar = document.querySelector("ul.sidebar--links");
    sidebar.classList.toggle("active");

    const button = document.querySelector("button.menu");
    button.classList.toggle("active");
  }
  document
    .querySelector("button.menu")
    .addEventListener("click", onButtonClick);
</script>
